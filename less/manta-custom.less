// Manta customized LESS file.
@import "icomanta.less";


//------------------ variables -----------------------

@well-color:                        @gray-dark;
@well-border:                       none;
@well-shadow:                       none;
@subnavbar-height:                  25px;
@subnavbar-padding-horizontal:      @navbar-padding-horizontal;
@subnavbar-padding-vertical:        ((@subnavbar-height - @line-height-computed) / 2);
@well-border-radius:                0;
@breadcrumb-border-radius:          0;

//------------------  color junk ---------------------

// background colors from color pallette
.bg-brand-info, .bg-brand-primary, .bg-brand-success, .bg-brand-warning, .bg-brand-danger, .bg-brand, .bg-brand-alt,
.bg-gray, .bg-gray-dark, .bg-gray-darker
{
  &,.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6,.close {
    color: @white;
  }
}

.bg-white {
  background-color: @white;
  color: @text-color;
}
.bg-gray-darker {
  background-color: @gray-darker;
}
.bg-gray-dark {
  background-color: @gray-dark;
}
.bg-gray {
  background-color: @gray;
}
.bg-gray-light {
  background-color: @gray-light;
}
.bg-gray-lighter {
  background-color: @gray-lighter;
}

.bg-brand-primary {
  background-color: @brand-primary;
}
.bg-brand-info{
  background-color: @brand-info;
}
.bg-brand-success {
  background-color: @brand-success;
}
.bg-brand-warning {
  background-color: @brand-warning;
}
.bg-brand-danger {
  background-color: @brand-danger;
}
.bg-brand {
  background-color: @brand;
}
.bg-brand-alt {
  background-color: @brand-alt;
}

// text colors from color pallette
.text-white {
  &,&:hover,&:active {
    color: @white;
  }
  .bg-brand-info &, .bg-brand-primary &, .bg-brand-success &, .bg-brand-warning &, .bg-brand-danger &, .bg-brand &, .bg-brand-alt &,
  .bg-gray &, .bg-gray-dark &, .bg-gray-darker &{
    .h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6,.close {
      color: @white;
    }
  }
}
.text-gray-lighter {
  &,&:hover,&:active {
    color: @gray-lighter;
  }
  .bg-brand-info &, .bg-brand-primary &, .bg-brand-success &, .bg-brand-warning &, .bg-brand-danger &, .bg-brand &, .bg-brand-alt &,
  .bg-gray &, .bg-gray-dark &, .bg-gray-darker &{
    .h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6,.close {
      color: @gray-lighter;
    }
  }
}
.text-gray-light {
  &,&:hover,&:active {
    color: @gray-light;
  }
  .bg-brand-info &, .bg-brand-primary &, .bg-brand-success &, .bg-brand-warning &, .bg-brand-danger &, .bg-brand &, .bg-brand-alt &,
  .bg-gray &, .bg-gray-dark &, .bg-gray-darker &{
    .h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6,.close {
      color: @gray-light;
    }
  }
}
.text-gray {
  &,&:hover,&:active {
    color: @gray;
  }
  .bg-brand-info &, .bg-brand-primary &, .bg-brand-success &, .bg-brand-warning &, .bg-brand-danger &, .bg-brand &, .bg-brand-alt &,
  .bg-gray &, .bg-gray-dark &, .bg-gray-darker &{
    .h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6,.close {
      color: @gray;
    }
  }
}
.text-gray-dark {
  &,&:hover,&:active {
    color: @gray-dark;
  }
  .bg-brand-info &, .bg-brand-primary &, .bg-brand-success &, .bg-brand-warning &, .bg-brand-danger &, .bg-brand &, .bg-brand-alt &,
  .bg-gray &, .bg-gray-dark &, .bg-gray-darker &{
    .h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6,.close {
      color: @gray-dark;
    }
  }
}
.text-gray-darker {
  &,&:hover,&:active {
    color: @gray-darker;
  }
  .bg-brand-info &, .bg-brand-primary &, .bg-brand-success &, .bg-brand-warning &, .bg-brand-danger &, .bg-brand &, .bg-brand-alt &,
  .bg-gray &, .bg-gray-dark &, .bg-gray-darker &{
    .h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6,.close {
      color: @gray-darker;
    }
  }
}
.text-brand {
  &,&:hover,&:active {
    color: @brand;
  }
  .bg-brand-info &, .bg-brand-primary &, .bg-brand-success &, .bg-brand-warning &, .bg-brand-danger &, .bg-brand &, .bg-brand-alt &,
  .bg-gray &, .bg-gray-dark &, .bg-gray-darker &{
    .h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6,.close {
      color: @brand;
    }
  }
}
.text-brand-alt {
  &,&:hover,&:active {
    color: @brand-alt;
  }
  .bg-brand-info &, .bg-brand-primary &, .bg-brand-success &, .bg-brand-warning &, .bg-brand-danger &, .bg-brand &, .bg-brand-alt &,
  .bg-gray &, .bg-gray-dark &, .bg-gray-darker &{
    .h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6,.close {
      color: @brand-alt;
    }
  }
}

.faded {
  .opacity(0.5);
}

// text transforms
.text-capitalize {
  text-transform: capitalize;
}
.text-uppercase {
  text-transform: uppercase;
}

//------------------  END color junk ---------------------

//------------------  generic  -----------------------
.container.content {
  background-color: @white;
  padding-top: (@grid-gutter-width / 2);
}
.text-default, a.text-default:hover, a.text-default:active {
  color: @text-color;
}

//----------------- manta footer specific classes-------
.footer {
  margin-top: @line-height-computed;
  background-color: @gray-darker;
  background-color: @white; //old
  font-size: @font-size-small;
}

.footer .nav.navbar-nav > li > a {
  padding: 0 10px;
  margin-top:17px;
  margin-bottom:17px;
  border-right: 1px solid #fff;
  &:hover {
    text-decoration: underline;
  }
}
.footer .navbar-nav > li:last-child > a{
  border-right:none;
}

//------------------ END of generic ------------------

.fs-small {
  font-size: @font-size-small;
}

//
// Typography
// -------------------------------------------------

p {
  margin: 0 0 floor((@line-height-computed * 0.75));
}

h1, h2, h3, h4,
.h1, .h2, .h3, .h4 {
  font-family: @font-family-serif;
  font-kerning: normal;
}

h1, h2, h3, h4, h5, h6,
.h1, .h2, .h3, .h4, .h5, .h6 {
  margin-bottom: (@line-height-computed / 4);
  margin-top: 0;
}

.strong,
h1.strong,h2.strong,h3.strong,h4.strong,h5.strong,h6.strong,
.h1.strong,.h2.strong,.h3.strong,.h4.strong,.h5.strong,.h6.strong {
  font-weight: bold;
}

.list-group-item {
  margin-bottom: 0;
  border: 0;
  border-bottom: 1px solid @list-group-border;
  &:first-child {
    .border-top-radius(0);
  }
  &:last-child {
    .border-top-radius(0);
    margin-bottom: 0;
    border-bottom: 0;
  }
}

.well {
  color: @well-color;
  border: @well-border;
  .box-shadow(@well-shadow);
}
.well, .well-lg, .well-sm {
  border-radius: @well-border-radius;
}

.panel-default {
  .box-shadow(none);
}
/* remove extra bottom margin that isn't needed since panel-default has no border (and all panel bodies have padding in them) */
.panel.panel-default {
  margin-bottom:0;
}

/*a lighter border color is nicer for tables inside wells*/
.well .table {
  thead,
  tbody,
  tfoot {
    > tr {
      > th,
      > td {
        border-top-color: @white;
      }
    }
  }
}
.table {
  thead,
  tbody,
  tfoot {
    > tr:first-child {
      > th,
      > td {
        border-top: none;
      }
    }
  }
}

.breadcrumb {
  margin: 0;
  border-radius: @breadcrumb-border-radius;
  font-size: 10px;
}
.dropdown-menu > li > a {
  padding: 5px 20px;
}
/* indent small menu items, because we just them as "sub elements" */
ul.dropdown-menu > li > a.fs-small {
  margin-left: 10px;
}
/* dropdowns that show on hover */
ul.nav li.dropdown:hover > .dropdown-onhover {
  display: block;
}

.navbar-nav {
  margin: 0;
}
.navbar-collapse {
  box-shadow: none;
  border-top: 0;
}

//------------------ sub navbar overrides ------------

.navbar.subnav {
  z-index: (@zindex-navbar - 10);
  min-height: @subnavbar-height;
  font-size: @font-size-small;
  &.navbar-fixed-top {
    margin-top: @navbar-height;
  }
  .navbar-nav {
    margin: 0;
    //margin: (@subnavbar-padding-vertical / 2) -@subnavbar-padding-horizontal;

    > li > a {
      padding-top:    5px;
      padding-bottom: 5px;
    }
  }
}

// Navbar form
//
// Extension of the `.form-inline` with some extra flavor for optimum display in
// our navbars.

.navbar-form {
  margin-left: -@navbar-padding-horizontal;
  margin-right: -@navbar-padding-horizontal;
  padding: 0 @navbar-padding-horizontal;
  border-top: 0px solid transparent;
  border-bottom: 0px solid transparent;
  @shadow: none;
  .box-shadow(@shadow);

  // Mixin behavior for optimum display
  .form-inline();

  .form-group {
    @media (max-width: @screen-xs-max) {
      margin-bottom: 5px;
    }
  }

  // Vertically center in expanded, horizontal navbar
  .navbar-vertical-align(@input-height-base);
}


//------------------ fonts ---------------------------

@mantaicon-version: 6;

@font-face {
  font-family: 'icomanta';
  src: url('@{icon-font-path}@{mantaicon-font-name}.eot?v=@{mantaicon-version}');
  src: url('@{icon-font-path}@{mantaicon-font-name}.eot?v=@{mantaicon-version}#iefix') format('embedded-opentype'),
  url('@{icon-font-path}@{mantaicon-font-name}.woff?v=@{mantaicon-version}') format('woff'),
  url('@{icon-font-path}@{mantaicon-font-name}.ttf?v=@{mantaicon-version}') format('truetype'),
  url('@{icon-font-path}@{mantaicon-font-name}.svg?v=@{mantaicon-version}#icomanta') format('svg');
  font-weight: normal;
  font-style: normal;
}

@font-face {
  font-family: 'vegurlight';
  src: url('@{icon-font-path}@{display-font-name}.eot');
  src: url('@{icon-font-path}@{display-font-name}.eot?#iefix') format('embedded-opentype'),
       url('@{icon-font-path}@{display-font-name}.woff') format('woff'),
       url('@{icon-font-path}@{display-font-name}.ttf') format('truetype'),
       url('@{icon-font-path}@{display-font-name}.svg#Vegur-Light') format('svg');
}
@font-face {
  font-family: 'SourceSansPro-Regular';
  src: url('@{icon-font-path}@{font-family-serif-name}.eot');
  src: url('@{icon-font-path}@{font-family-serif-name}.eot?#iefix') format('embedded-opentype'),
       url('@{icon-font-path}@{font-family-serif-name}.woff') format('woff'),
       url('@{icon-font-path}@{font-family-serif-name}.ttf') format('truetype');
}


.btn .icomanta, .btn .glyphicon {
  // make the icons vertically aligned correctly in
  vertical-align: inherit;
}
.icomanta {
  display: inline-block;
}

// force buttons to be the same exact height as the input
// boxes no matter what kind of font (or glyph) is in the button
.input-group > .input-group-btn > .btn {
  height: @input-height-base;
}
.input-group-lg > .input-group-btn > .btn {
  height: @input-height-large;
}
.input-group-sm > .input-group-btn > .btn {
  height: @input-height-small;
}

// User name truncation for navigation
.ellipsis {
  vertical-align: middle;
  display: inline-block;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

// ---- mixins ---- //
.perspective(@distance) {
  -webkit-perspective: @distance;
  -moz-perspective: @distance;
  perspective: @distance;
}
.transform-origin(@x,@y,@z) {
  -webkit-transform-origin: @x @y @z;
  -ms-transform-origin: @x @y @z;
  -moz-transform-origin: @x @y @z;
  transform-origin: @x @y @z;
} 
.transform-origin(@x,@y) {
  .transform-origin(@x,@y,0);
}
.preserve3d() {
  -webkit-transform-style: preserve-3d;
  -moz-transform-style: preserve-3d;
  transform-style: preserve-3d;
}
.rotate3d(@x,@y,@z,@angle) {
  -webkit-transform: rotate3d(@x,@y,@z,@angle);
  -moz-transform: rotate3d(@x,@y,@z,@angle);
  transform: rotate3d(@x,@y,@z,@angle);
}
.transparent-bg(@r,@g,@b,@a) {
  background-color: rgb(@r,@g,@b); // IE8
  background-color: rgba(@r,@g,@b,@a);
}

// ---- cover photos ---- //
.cover-photo {
  background-size: cover;
  background-position: 50% 50%;
  background-repeat: no-repeat;
}

// ---- Flip Cards and Photo Cards ---- //

.photocard {
  @transition: all .20s;
  @hover-delay: .15s;
  @card-text-color: @white;

  position: relative;
  overflow: hidden;

  .photo-title-peek {
    .text-overflow();
    .text-center();
    .transition(@transition);
    .transition-delay(@hover-delay);
    .transparent-bg(0,0,0,0.80);
    padding: 2px @padding-base-vertical;
    bottom: 0;
    margin-bottom: 0;
    color: @card-text-color;
    width: 100%;
    position: absolute;
  }

  .photo-details {
    .transparent-bg(0,0,0,0.80);
    .size(100%, 100%);
    bottom: -100%;
    color: @card-text-color;
    position: absolute;
    padding: @padding-base-horizontal;
    .transition(@transition);
    .transition-delay(@hover-delay+0.1s); //wait for title to slide down
  }

  &.hover, &.photocard-hover:hover {
    .photo-details {
      bottom: 0;
    }
    .photo-title-peek {
      bottom: -100%;
    }
  }
}


//zoom

.flipcard {
  @transition: all .25s ease-in-out;
  .transition(@transition);

  .front, .back {
    .backface-visibility(hidden);
    .preserve3d();
    .transition(@transition);
    float: none;
    position: absolute;
    top: 0;
    left: 0;
    width: inherit;
    height: inherit;
  }  
  .front {
    z-index: 9;
  }
  .back {
    z-index: 8;
    .rotate3d(0,1,0,-180deg);
  }
  z-index: 1;
  position: relative;
  .perspective(600px);
  
  //do the flip (on hover or per class)
  &.flip, &.flipcard-flip-hover:hover {
    .front {
      z-index: 9;
      .rotate3d(0,1,0,180deg);
    }
    .back {
      z-index: 10;
      .rotate3d(0,1,0,0deg);
    }
  }

  &.flipcard-scale {
    &.flipcard-scale-hover {
      &:hover {
        z-index: 10;
        .scale(1.1);

        .front {
          @shadow: outset 0 0 5px 0 rgba(0, 0, 0, 0.5);
          .box-shadow(@shadow);
        }
      }
    }
  }
}
//.flipcard .front

.text-secondary {
  color: @brand-primary;
  line-height: 1.2;
  font-size: @font-size-small;
}

//hover should use the brand color on this one
.btn-primary {
  &:hover,
  &.hover,
  &:focus,
  &:active,
  &.active,
  .open .dropdown-toggle& {
    background-color: @brand;
        border-color: darken(@brand, 12%);
  }
}
.btn {
  &.disabled,
  &[disabled],
  fieldset[disabled] & {
    color: @gray-light;
  }
}

// Danger and error appear as red
.btn-brand {
  .button-variant(@btn-brand-color, @btn-brand-bg, @btn-brand-border);
}

// Don't change opacity on disabled button
.opaque {
  opacity: 1;
  &.btn.disabled,
  &.btn[disabled],
  fieldset[disabled] & {
    opacity: 1;
  }
  &.btn {
    color: @white;
  }
  &.btn-default {
    color: @gray-dark
  }
}

.with-icon(@top, @bottom) {
  margin-top: @top;
  margin-bottom: @bottom;
}

h1,.h1 {
  &.modal-title.icon-title {
    .with-icon(-10px, -18px);
  }
}
h2,.h2 {
  &.modal-title.icon-title {
    .with-icon(-7px, -14px);
  }
}
h3,.h3 {
  &.modal-title.icon-title {
    .with-icon(-5px, -9px);
  }
}
h4,.h4 {
  &.modal-title.icon-title {
    .with-icon(-2px, -3px);
  }
}
h5,.h5 {
  &.modal-title.icon-title {
    .with-icon(0, 1px);
  }
}
h6,.h6 {
  &.modal-title.icon-title {
    .with-icon(2px, 3px);
  }
}

.popover-danger + .popover {
  background-color: @state-danger-bg;
  color: @state-danger-text;
  &.top > .arrow:after {
    border-top-color: @state-danger-bg;
  }
  &.right > .arrow:after {
    border-right-color: @state-danger-bg;
  }
  &.left > .arrow:after {
    border-left-color: @state-danger-bg;
  }
  &.bottom > .arrow:after {
    border-bottom-color: @state-danger-bg;
  }
  & .popover-title {
    background-color: @brand-danger;
    color: @white;
    border-radius: 0;
  }
}

.popover-success + .popover {
  background-color: @state-success-bg;
  color: @state-success-text;
  &.top > .arrow:after {
    border-top-color: @state-success-bg;
  }
  &.right > .arrow:after {
    border-right-color: @state-success-bg;
  }
  &.left > .arrow:after {
    border-left-color: @state-success-bg;
  }
  &.bottom > .arrow:after {
    border-bottom-color: @state-success-bg;
  }
  & .popover-title {
    background-color: @brand-success;
    color: @white;
    border-radius: 0;
  }
}

.popover-info + .popover {
  background-color: @state-info-bg;
  color: @state-info-text;
  &.top > .arrow:after {
    border-top-color: @state-info-bg;
  }
  &.right > .arrow:after {
    border-right-color: @state-info-bg;
  }
  &.left > .arrow:after {
    border-left-color: @state-info-bg;
  }
  &.bottom > .arrow:after {
    border-bottom-color: @state-info-bg;
  }
  & .popover-title {
    background-color: @brand-info;
    color: @white;
    border-radius: 0;
  }
}

.popover-warning + .popover {
  background-color: @state-warning-bg;
  color: @brand-primary;
  &.top > .arrow:after {
    border-top-color: @state-warning-bg;
  }
  &.right > .arrow:after {
    border-right-color: @state-warning-bg;
  }
  &.left > .arrow:after {
    border-left-color: @state-warning-bg;
  }
  &.bottom > .arrow:after {
    border-bottom-color: @state-warning-bg;
  }
  & .popover-title {
    background-color: @brand-warning;
    color: @white;
    border-radius: 0;
  }
}

.btn-row .btn {
  margin-right: @padding-base-horizontal;
  &:last-child {
    margin-right: 0;
  }
}
